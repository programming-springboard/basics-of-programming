# Урок 1: Введение в программирование

На первом, вступительном уроке разбирается само понятие программирования, а также дается базовое введение в язык Си (англ. "С"). На примерах показывается, как инициализироват ьпеременные разных типов, как взаимодействовать с портами ввода-вывода системы, разбираются основные логические операции.

## Что есть программирование?

**Программирование** - процесс написания компьютерных программ. Компьютерные программы, в свою очередь, представляют из себя описание алгоритмов, выполняемых над определенными данными (структурами данных). Описание это формализуется с помощью различных языков программирования.

Создание компьютерных программ можно сравнить с написанием кулинарных рецептов. В обоех случаях, описывается определенный порядок действий для решения конкретной задачи (или класса задач; в случае с готовкой - задача приготовления пищи). Исполнителями кулинарных рецептов являются люди, повара. Исполнителями программ являются компьютеры.

## Языки программирования

Компьютер достаточно простая машина, которая понимает только язык нулей и единиц. Понятное дело, что описывать все мельчайшие инструкции, пользуясь только двоичной системой исчисления было бы долго и скучно  (*но не невозможно!*). Языки программирования представляют из себя некий компрмисс - они представляют собой правила написания инструкций, которые могут быть поняты как человеком, так и компьютером.

### Язык C

Для курсов основ программирования я решил выбрать язык *С*. Отсюда может последовать логичный вопрос: "Виталик, ведь ты же Python разработчик! Почему бы нам не начать с него? Зачем нам учить *С*?". Ответ будет прост. *С* очень **низкоуровневый** язык. Это означает, что инструкции, которые вы на нем пишите, более приближены к аппаратному уровню в сравнении с другими языками.


## Написание первой программы

Сразу оговорюсь, что все команды терминала, которые запускаются по ходу этого урока - запускаются под ОС Linux (Ubuntu 20.04).

Для начала, нам необходимо создать файл исходного кода. Файлы исходного кода языка *С* имеют расширение `.c`. По своей структуре, это обычные текстовые файлы (такие же, как например `.txt`, или файлы с любым другим исходным кодом). Принято их обозначать `.c` по следующим причинам:

1. Чтобы операционные системы могли распознавать, какой программой (редактором кода/интегрированной средой разработки) лучше всего открывать этот файл.
2. Чтобы редакторы кода могли правильно подвечивать синтаксис (а иногда и давать контекстные подсказки в автодополнении кода).

### Создание файла с исходным кодом

Итак, запишем нашу первую программу в `program.c`:

```bash
touch program.c
```

Я буду редактировать её с помощью консольного текстового редактора `vim`. Вы же для себя можете выбрать любой подходящий инструмент. Об альтернативах я расскажу немного позже.

Запишем в файл `program.c` следующее.

```c
int main() {
    return 0;
}
```

Выше вы можете наблюдать самый минимальный программный код, который вам придется написать на языке *С*. Здесь приводится описание главной функции `int main ()` - точки входа в программу. Как только ваша программа запустится, будет выполнен код блок кода, заключенный в символы `{}`. В данном случае, выполнится строка `return 0;`. Ключевое слово `return` обозначает конец выполнения функции и указывает программе вернуть после своего выполнения код 0. Код 0 обозначает, что программа завершилась удачно. Если операционная система получит любой ненулевой код - это будет означать, что ваша программа завершилась ошибкой.

Обратите внимание, что в конце каждой инструкции нужно ставить `;`.

### Компиляция

Сколько не кликай по файлу исходного кода - он так и не перестанет открываться текстовым редактором. Но ведь мы написали программу не для того, чтобы на неё любоваться? Мы хотели сделать так, чтобы её прочитал компьютер. Для этого нам необходимо воспользоваться услугами **компилятора** - условного сборщика программного кода, который перевод исходный текст программы в инструкции, понятные компьютеру.

Я буду использовать [GNU C Compiler](https://gcc.gnu.org/) (сокращенно **gcc**).

Для того, чтобы скомпилировать наш программный файл необходимо выполнить следующую команду:

```bash
gcc program.c -o program
```

Первым параметром мы передаем `program.c` - путь к исходному коду программы. Через параметр `-o` мы указываем путь, по которому будет записана скомпилированная программа. В данном случае, это `program`. Для того, чтобы запустить эту программу необходимо выполнить:

```bash
./program
```

На данный момент наша программа ничего не делает. Она просто запускается и сразу же завершается с кодом 0. Давайте долбавим в неё немного действия: попробуем заставить её сложить пару чисел.

### Переменные

**Переменные** - это некие именованные области памяти, которые содержат в себе определенное значение. Значения бывают разних типов. Типы эти надо указывать при объявлении переменной.

Давайте, для примера, объявим в нашем коде переменную `a`, которая будет хранить в себе целочисленные значения.

```c
int main() {
    int a;
    return 0;
}
```

В данном случае, `int` - это объявление типа данных для переменной `a`. В языке *С* существуют следующие типы данных:

Тип данных | Описание | Минимальный размер в байтах
-----------|----------|----------------------------
char | Тип данных для хранения отдельных символов | 1
int | Тип данных для хранения целых чисел | 2
float | Тип данных для хранения дробных чисел | 4 (зависит от системы)
double | Тип данных для хранения дробных чисел двоичной точности | 8 (зависит от системы)

Существуют также модификаторы типов данных. Они, например, могут управлять максимальным размером, который может хранить переменная в байтах или тем, какие значения может хранить переменная. Определенные модификаторы можно применять только к определенным типам данным (см. таблицу ниже).

Модификатор | Описание | К каким типам можно применять
------------|----------|------------------------------
unsiged | Указывает, что переменная может содержать только значения без знака (подразумевается знак минус). Так, например `unsiged int` может содержать только положительные числа и 0 | `char`, `int`
signed | Указывает, что переменная может содержать значения как со знаком, так и без него. Модификатор `signed` используется по умолчанию и указывать его надо только для того, чтобы явно указать, что переменная может принимать значения как больше, так и меньше нуля | `char`, `int`
short | В 2 раза уменьшает размер значения в байтах, которое может содержать эта переменная. Модификатор `short` может использоваться как самостоятельный тип данных (`short a` равносильно записи `short int a`; **заметка**: поскольку `short` может быть использован как самостоятельный тип данных, к нему также можно применять другие модификаторы: `short`, `signed`, `unsiged`, `long`) | `int`
long | В 2 раза увеличивает размер значения в байтах, которое может содержать переменная. Подобно `short`, модификатор `long` может быт ьиспользован как самостоятельный тип данных и равносилен записи `long int` | `int`, `double`

Полный список всех типов данных *С* с их размерами и описанием можете также посмотреть в [статье на Википедии](https://en.wikipedia.org/wiki/C_data_types#Main_types).

### Значения переменных

Как уже было сказано раньше, переменные используются для хранения *значений*. Вернемся к нашему прошлому примеру и присвоим переменной `a` значение `2`.

```c
int main() {
    int a;
    a = 2;
    return 0;
}
```

Присваивать значение переменной можно сразу после её объявления:

```c
int main() {
    int a = 2;
    return 0;
}
```

Можно также объявлять сразу несколько переменных:

```c
int main() {
    int a = 2, b = 3;
    return 0;
}
```

Но только если они имеют один и тот же тип. В противном случае, объявлять их надо следующим образмом:

```c
int main() {
    int a = 2;
    short b = 3;
    return 0;
}
```

Пример инициализации переменных всех типов:

```c
int main() {
    int integer = 2;
    short shortInteger = 3;
    long longInteger = 4;
    long long superLongInterger = 999;

    // Целую часть от дробной необходимо отделять точкой
    float floatingPointNumber = 1.3;
    double floatingPointNumberWithDoublePrecision = 2.7;

    // При объявлении символьных переменных, значения необходимо указывать в
    // одинарных кавычках '
    // Двойные кавычки используются для записи последовательности символов
    // Например, "word".
    // Работу с последовательностями символов мы рассмотрим позже.
    char character = 'c';

    return 0;
}
```

Текст, написанный после `//` считается комментариями к коду - он никак не вляется на результат выполнения программы и игнорируется компилятором во время его работы. Комментарии очень важны в программах, т.к. дают возможность другим программистам понять какие-то неявные решения, которые вы приняли во время написания программы (не говоря уже о том, что этим программистом можете быть Вы из будущего).

### Сложение

Пускай мы и объявили много переменных, наша программа все еще не делает ничего полезного. Давайте, для примере, заставим её считать сумму двух чисел.

```c
int main() {
    int a = 3, b = 4;
    // Произведем сложение значений в переменных a и b: a + b
    // После чего занесем результат сложения (в данном случае, 7) в
    // переменную sum.
    int sum = a + b;
    return 0;
}
```

Заново скомпилируем и выполним наше приложение. Напоминаю, сделать это можно выполнив следующее:

```shell script
gcc program.c -o program
./program
```

И -.. Наша программа все еще ничего не выводит. Дальше мы разберемся, как взаимодействовать с портами вывода.

### Вывод информации в консоль

За вывод информации в консоль в языке *С* отвечает функция `printf`. Прежде, чем разобрать её на примере необходимо немного рассказать о функциях.

**Функции** это переиспользуемый набор операций. В стандартной библиотеке языка *С* имеется множество функций для решения типичных проблем, которые возникают в процессе написания программного обеспечения.

Прежде чем использовать функции из стандартной библиотеке, необходимо подключить нужный заголовочный файл стандартной библиотеки, который описывает эту функцию. Делается это с помощью команды `#include`.

#### Hello world

Обычно, во время изучения новых языков программирование, первое, что вы делаете - это пишите программу, которая печатает в консоль одно единственно сообщение: **Hello world**. Таким образом вы учитесь запускать программы, написанные на этом языке программирования и, увидев заветное сообщение в консоли, с легкостью вздыхаете, что все прошло хорошо. В нашем курсе я решил начать обучение с изучения типов данных и сложения переменных. Концепция написания **Hello world** подходит для второго и дальнейших языков, когда вы уже знакомы с базовыми принципами программирования и какими-то общими шаблонами языков программирования, присущих большинству из них.

Пример *Hello world* программы на *С*:

```c
// Подключаем заголовочный файл для работы с вводом выводом.
// std в названии означает, что файл является частью стандартной библиотеки
// io - сокращение от input/output
#include <stdio.h>

// Обратите также внимание, что заголовнчые файлы подключаются в самом верху
// файла с исходным кодом, за пределеами функции main.

int main() {
    // Для вызова функции необходимо после её названия добавить (). Внутри этих
    // скобочек необходимо перечислить все аргументы, которые принимает эта
    // функция.

    // В данном примере, единственным аргументом является последовательность
    // Символов "Hello world\n".
    printf("Hello world\n");
    return 0;
}
```

Скомпилируем и выполним программу. При запуске она выводит в консоль следующее сообщение:

```
Hello world
```

#### Символ \n

В конце стоки я намеренно добавил `\n`. Это символ переноса строки. Попробуйте убрать его из программы и посмотрите на результат.

В языке *С* имеется несколько специальных символов: `\t` для установки знака табуляции, `\r` - символ переноса каретки. Более подробную информацию вы можете найти [здесь](https://en.wikipedia.org/wiki/Escape_sequences_in_C#Table_of_escape_sequences).

Символ `\` также используется для *экранирования* других специальных символов. Например, вы не сможете так просто написать `"` посреди другой строки - это просто закроет вашу предыщую строку и весь текст после вставленного символа `"` окажется вне вашего сообщения, что вызовет ошибку компиляции. Т.е., чтобы напечатать `Hello "world"` в консоль необхъодимо будет передать следующую строку первым параметром в функцию `printf`: `"Hello, \"world\"\n"`. Экранировать можно любой символ, даже саму наклонную черту. Так, например, `printf("\\")` выведет на экран `\`.

#### Форматирование строк

Иногда, содержание строки, которая будет выведена на экран, по логике должно формироватся в момент выполнения программы. Вернемся к нашему предыдущему примеру со сложением читсел. Каким образом мы можем вывести на экран сообщение `a + b = %рассчитанная_сумма%`? С помощью форматирования строк!

```c
int main() {
    int a = 3, b = 4;
    int sum = a + b;
    printf("a + b = %d\n", sum);
    return 0;
}
```

В данном случае, программа выведет на экран сообщение `a + b = 7`. Значение переменной `sum` подставилось на место `%d` в строке. Во время написания самой строки мы зарезервировали это место под значение переменной. Все форматоры начинаются с символа `%`, далее идет идентификатор, в данном случае `d` (англ. "decimal" - десятичное). Существуют и другие форматоры: `%c` для вставки символов, `%f` для вставки чисел с плавающей точкой, `%s` для подстановки строк. Полный список, как всегда, можете найти по [ссылке](http://www.cplusplus.com/reference/cstdio/printf/).

Обратите внимание, что мы передали `sum` вторым аргументом в функцию `printf`. Аргументы разделяются между собой запятой: `arg1, arg2`.

Форматированная строка может содержать в себе сколь-угодно много форматоров. Главнео помните - каждому форматору должно соответстовать значение, переданное как аргумент в функцию `printf`:

```c
int main() {
    int a = 3, b = 4;
    int sum = a + b;
    printf("%d + %d = %d", a, b, sum);
    return 0;
}
```

Программа выше выведет следующее сообщение в консоль:
```
3 + 4 = 7
```

Порядок аргументов очень важен. Так, значение переменной `a` подставилось на первую позицию `%d`, `b` - на вторую и так далее.

Форматоры можно совмещать. Так, строка для форматирования спокойно может иметь вид `"%s: %d - %d = %f"`.
